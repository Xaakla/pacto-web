<form [formGroup]="form" (submit)="onSubmit()">
  <!--    <app-form-debug [form]="form" [simple]="false"></app-form-debug>-->
  <div class="row mb-4 align-items-center justify-content-between">
    <div class="col-auto">
      <h2>Cadastro de Vendas</h2>
      <span class="text-muted">Insira os dados para criar uma nova venda, você poderá efetuar o pagamento dela no diálogo de detalhes.</span>
    </div>
  </div>

  <div class="card">
    <div class="card-body">
      <div class="mb-3">
        <label class="form-label" for="amount">Valor da venda</label>
        <input formControlName="amount" type="text" class="form-control"
               currencyMask [options]="{allowNegative: false,
                                               align: 'left',
                                               allowZero: false,
                                               prefix: 'R$ ',
                                               thousands: '.',
                                               decimal: ',' }"
               [ngClass]="isValid('amount')" id="amount">
        <field-error-message [type]="'required'" [message]="'O campo é obrigatório'"
                             [control]="get('amount')"></field-error-message>
        <field-error-message [type]="'maxNumber'" [message]="'O valor máximo é R$ 99.999.999,99'"
                             [control]="get('amount')"></field-error-message>
        <field-error-message [type]="'minNumber'" [message]="'O valor mínimo é R$ 1,00'"
                             [control]="get('amount')"></field-error-message>
      </div>
      <div class="mb-3">
        <label class="form-label" for="description">Descrição da venda</label>
        <textarea formControlName="description" rows="4" class="form-control"
                  [ngClass]="isValid('description')" id="description"
                  placeholder="Insira os detalhes da venda..."></textarea>
        <field-error-message [type]="'required'" [message]="'O campo é obrigatório'"
                             [control]="get('description')"></field-error-message>
        <field-error-message [type]="'maxlength'" [message]="'O máximo de caracteres disponíveis é de 255.'"
                             [control]="get('description')"></field-error-message>
      </div>
      <div class="row">
        <div class="col-12 d-flex justify-content-end">
          <button type="button" class="btn btn-light me-2" (click)="gotoSalesList()">Voltar para listagem</button>
          <app-button [type]="'submit'" [customClass]="'btn btn-primary'"
                      [loading]="loading" [label]="'Cadastrar venda'"
                      [loadingLabel]="'Cadastrando...'"></app-button>
        </div>
      </div>
    </div>
  </div>
</form>
